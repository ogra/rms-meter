var n={23:(n,o,r)=>{n.exports=r.p+"rms-processor.esm.js"}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.n=n=>{var o=n&&n.__esModule?()=>n.default:()=>n;return r.d(o,{a:o}),o},r.d=(n,o)=>{for(var e in o)r.o(o,e)&&!r.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:o[e]})},r.o=(n,o)=>Object.prototype.hasOwnProperty.call(n,o),(()=>{var n;if("string"==typeof import.meta.url&&(n=import.meta.url),!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=n})();var e={};(()=>{r.d(e,{Indicator:()=>a});var n=r(23),o=r.n(n);const t={elementId:"indicator",userMediaStream:null};class a{static create(n){return new a(n)}constructor(n=t){const r=document.getElementById(n.elementId),e=document.createElement("div");e.setAttribute("class","container");const a=e.attachShadow({mode:"open"}),i=document.createElement("led-box");i.setAttribute("class","led-box");const l=document.createElement("div");l.setAttribute("class","led-blue");const d=document.createElement("p");d.setAttribute("class","rmsinfo");let b=document.createElement("style");b.textContent="\n        .container {\n            background-size: cover;\n          background: rgb(226,226,226); /* Old browsers */\n          background: -moz-linear-gradient(top,  rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%); /* FF3.6+ */\n          background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(226,226,226,1)), color-stop(50%,rgba(219,219,219,1)), color-stop(51%,rgba(209,209,209,1)), color-stop(100%,rgba(254,254,254,1))); /* Chrome,Safari4+ */\n          background: -webkit-linear-gradient(top,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Chrome10+,Safari5.1+ */\n          background: -o-linear-gradient(top,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Opera 11.10+ */\n          background: -ms-linear-gradient(top,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* IE10+ */\n          background: linear-gradient(to bottom,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* W3C */\n          filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e2e2e2', endColorstr='#fefefe',GradientType=0 ); /* IE6-9 */\n          padding: 20px;\n        }\n        \n        .led-box {\n          height: 30px;\n          width: 25%;\n          margin: 10px 0;\n          float: left;\n        }\n        \n        .led-box p {\n          font-size: 12px;\n          text-align: center;\n          margin: 1em;\n        }\n        \n        .led-red {\n          margin: 0 auto;\n          width: 24px;\n          height: 24px;\n          background-color: #F00;\n          border-radius: 50%;\n          box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #441313 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 12px;\n          -webkit-animation: blinkRed 0.5s infinite;\n          -moz-animation: blinkRed 0.5s infinite;\n          -ms-animation: blinkRed 0.5s infinite;\n          -o-animation: blinkRed 0.5s infinite;\n          animation: blinkRed 0.5s infinite;\n        }\n        \n        @-webkit-keyframes blinkRed {\n            from { background-color: #F00; }\n            50% { background-color: #A00; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #441313 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}\n            to { background-color: #F00; }\n        }\n        @-moz-keyframes blinkRed {\n            from { background-color: #F00; }\n            50% { background-color: #A00; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #441313 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}\n            to { background-color: #F00; }\n        }\n        @-ms-keyframes blinkRed {\n            from { background-color: #F00; }\n            50% { background-color: #A00; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #441313 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}\n            to { background-color: #F00; }\n        }\n        @-o-keyframes blinkRed {\n            from { background-color: #F00; }\n            50% { background-color: #A00; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #441313 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}\n            to { background-color: #F00; }\n        }\n        @keyframes blinkRed {\n            from { background-color: #F00; }\n            50% { background-color: #A00; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #441313 0 -1px 9px, rgba(255, 0, 0, 0.5) 0 2px 0;}\n            to { background-color: #F00; }\n        }\n        \n        .led-yellow {\n          margin: 0 auto;\n          width: 24px;\n          height: 24px;\n          background-color: #FF0;\n          border-radius: 50%;\n          box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 12px;\n          -webkit-animation: blinkYellow 1s infinite;\n          -moz-animation: blinkYellow 1s infinite;\n          -ms-animation: blinkYellow 1s infinite;\n          -o-animation: blinkYellow 1s infinite;\n          animation: blinkYellow 1s infinite;\n        }\n        \n        @-webkit-keyframes blinkYellow {\n            from { background-color: #FF0; }\n            50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }\n            to { background-color: #FF0; }\n        }\n        @-moz-keyframes blinkYellow {\n            from { background-color: #FF0; }\n            50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }\n            to { background-color: #FF0; }\n        }\n        @-ms-keyframes blinkYellow {\n            from { background-color: #FF0; }\n            50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }\n            to { background-color: #FF0; }\n        }\n        @-o-keyframes blinkYellow {\n            from { background-color: #FF0; }\n            50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }\n            to { background-color: #FF0; }\n        }\n        @keyframes blinkYellow {\n            from { background-color: #FF0; }\n            50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }\n            to { background-color: #FF0; }\n        }\n        \n        .led-green {\n          margin: 0 auto;\n          width: 24px;\n          height: 24px;\n          background-color: #ABFF00;\n          border-radius: 50%;\n          box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #304701 0 -1px 9px, #89FF00 0 2px 12px;\n        }\n        \n        .led-blue {\n          margin: 0 auto;\n          width: 24px;\n          height: 24px;\n          background-color: #24E0FF;\n          border-radius: 50%;\n          box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #006 0 -1px 9px, #3F8CFF 0 2px 14px;\n        }",a.appendChild(b),i.appendChild(l),i.appendChild(d),a.appendChild(i),r.appendChild(e);const p=new AudioContext;p.audioWorklet.addModule(o()).then((()=>{const o=new AudioWorkletNode(p,"rms-processor");p.createMediaStreamSource(n.userMediaStream).connect(o),o.port.onmessage=n=>{const o=n.data;console.log("rmsValue",o),o===Number.NEGATIVE_INFINITY?(d.textContent="No sound",l.setAttribute("class","led-red")):o>-.5?(d.textContent="Loud",l.setAttribute("class","led-yellow")):o<-90?(d.textContent="Quiet",l.setAttribute("class","led-yellow")):(d.textContent="Good",l.setAttribute("class","led-green"))}})).catch((n=>console.error("Error loading audio worklet:",n)))}}})();var t=e.Indicator;export{t as Indicator};